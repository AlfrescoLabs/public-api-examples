<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Alfresco OAuth Sample Demo</title>
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<script src="../js/jquery-1.8.1.min.js"></script>
<script src="../js/config.js"></script>
</head>
<body>
<a href="/alfapi/">
<img src="http://www.alfresco.com/sites/www/themes/alfrescodotcom/img/logo.svg" alt="Alfresco" width="241px">
</a>
<h1>OAuth Sample - Use the access token</h1>
<section id="accessToken">
You have 1 hour to use the access token.  After that you need to <a href="refreshAccessToken.html">refresh it</a>.
<h3>The preferred way to pass the access token is by setting a HTTP header: </h3>
<h4>Name: Authorization<br/>Value: Bearer [your access code]<br/>eg. Bearer d1358c05-6564-4086-94b6-a7e14ce3490</h4>

<h3>3) Call a URL using the access token </h3>
<form id="callerForm" action="" method="get" target="ipostresponse">
Paste your Access token here: <input name="access_token" value="" size="60px"><br/>
API url to call (via HTTP.GET) <input id="urlToCall" value="" size="100px"><br/>
<input type="submit">
</form>
</section>
<section id="responseDetails" style="display: none;">
This is the response from the GET:<br/>
<iframe id="ipostresponse" name="ipostresponse" width="100%" height="100px" style="border: 0">Your browser must support iframes</iframe><br/>
</section>
<script>     
   $(document).ready(function()   {

       $("#urlToCall").val(config.aTestUrl);

       //When the form is submittted
       $('#callerForm').submit(function() {
         $('#callerForm').attr('action', $('#urlToCall').val()) ;
         $('#responseDetails').show();
       });
    });
</script>
<section style="margin-top: 100px;font-size: 12px;">Other links:<a href="/alfapi/example_htmlonly/">Start again</a> <a href="withAccessToken.html">Use Access Token</a> <a href="refreshAccessToken.html">Refresh Access Token</a></section>
</body>
</html>